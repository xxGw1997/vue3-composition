{"version":3,"file":"vue.js","sources":["../src/reactivity/computed.ts","../src/reactivity/effect.ts","../src/shared/index.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts"],"sourcesContent":["export function computed(){\r\n  \r\n}","export function effect(){\r\n  \r\n}","export const isObject = (val) => typeof val  === 'object' && val !== null","\r\nfunction createGetter(){\r\n  return function get(target,key,receiver){  //获取属性的时候会自动执行get()方法\r\n    \r\n  }\r\n}\r\n\r\nfunction createSetter(){\r\n  return function set(target,key,value,receiver){  //设置属性的值的时候会自动执行set()方法\r\n\r\n  }\r\n}\r\n\r\n//为了预先放参数\r\nconst get = createGetter()\r\nconst set = createGetter()\r\n\r\n\r\nexport const mutableHandlers = {\r\n  get,\r\n  set\r\n}\r\n","import { isObject } from \"../shared/index\"\r\nimport { mutableHandlers } from \"./baseHandlers\"\r\n\r\nexport function reactive(target){\r\n  //将目标对象变成响应式对象,Proxy\r\n  return createReactiveObject(target,mutableHandlers) //核心操作就是当读取文件时做依赖收集,当数据变化时重新执行effect函数\r\n}\r\n\r\nconst proxyMap = new WeakMap()\r\n\r\nfunction createReactiveObject(target,baseHandlers){\r\n  //如果目标不是对象,则直接返回\r\n  if(!isObject(target)) return target\r\n  const existingProxy = proxyMap.get(target)\r\n  if(existingProxy) return existingProxy  //如果存在,则表示之前代理过,直接返回\r\n  //只对最外层对象做代理,默认不会递归,而且不会重新重写对象中的属性\r\n  const proxy = new Proxy(target,baseHandlers)\r\n  proxyMap.set(target,proxy)  //将需要代理的对象和代理的结果做成一个映射表\r\n  return proxy\r\n}","export function ref(){\r\n  \r\n}"],"names":[],"mappings":";;;;;;WAAgB,QAAQ;EAExB;;WCFgB,MAAM;EAEtB;;ECFO,IAAM,QAAQ,GAAG,UAAC,GAAG,IAAK,OAAA,OAAO,GAAG,KAAM,QAAQ,IAAI,GAAG,KAAK,IAAI,GAAA;;ECCzE,SAAS,YAAY;MACnB,OAAO,SAAS,GAAG,CAAC,MAAM,EAAC,GAAG,EAAC,QAAQ;OAEtC,CAAA;EACH,CAAC;EAQD;EACA,IAAM,GAAG,GAAG,YAAY,EAAE,CAAA;EAC1B,IAAM,GAAG,GAAG,YAAY,EAAE,CAAA;EAGnB,IAAM,eAAe,GAAG;MAC7B,GAAG,KAAA;MACH,GAAG,KAAA;GACJ;;WClBe,QAAQ,CAAC,MAAM;;MAE7B,OAAO,oBAAoB,CAAC,MAAM,EAAC,eAAe,CAAC,CAAA;EACrD,CAAC;EAED,IAAM,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAA;EAE9B,SAAS,oBAAoB,CAAC,MAAM,EAAC,YAAY;;MAE/C,IAAG,CAAC,QAAQ,CAAC,MAAM,CAAC;UAAE,OAAO,MAAM,CAAA;MACnC,IAAM,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;MAC1C,IAAG,aAAa;UAAE,OAAO,aAAa,CAAA;;MAEtC,IAAM,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,EAAC,YAAY,CAAC,CAAA;MAC5C,QAAQ,CAAC,GAAG,CAAC,MAAM,EAAC,KAAK,CAAC,CAAA;MAC1B,OAAO,KAAK,CAAA;EACd;;WCnBgB,GAAG;EAEnB;;;;;;;;;;;;;"}